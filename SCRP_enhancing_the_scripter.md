# Enhancing the Scribus scripter

## The thew Scripter

- The Scripter itself is programmed in Python

- the scripts are .spy files (why?)

- Object oriented:
  document = Scripter.activeDocument
   
- Simply ebmedded in the menu structure and allows shortcuts to be defined.
  Just add in the "structured" comments at the beginning of the file
      ## shortcut = Esc,f
      ## menu = &File

- Scripts in .../bin/scribus/lib/scribus/plugins/scripter/autoload are loaded on start
  The few scripts in that directory are very helpful! for understanding 

- Much easier to extend with new commands

- New concept for the documentation
  Generated by Sphynx, displayed by ReadTheDocs, comments by Disqus
  - the goal is to have similar site as http://php.net/manual/
  - http://jainbasil.net/2012/07/scripter2-documentation-powered-by-readthedocs-org-disqus/
  - http://scribus-scripter.readthedocs.org/en/latest/

Open questions:
 - Why .spy files?

But, must be further improved:
- some small fixes in the editor (most of all the highlight color for the current line)
- it must be easier to run again the last script you have run


## Adding a new function to the new scripter


- if you add a new file, don't forget to add its .cpp and .h files to the `CMakeLists.txt` file

## Adding a new function to the old scripter

how to add a new function to the scripter?

- you will have to work in scribus/plugins/scriptplugin/
- find the right `cmd*` file to add the new function
- in `cmd*.h`  add the doc string for the new function
  - explain what the content means
  - follow the examples, for now
- in `cmd*.cpp`
  - add the main function
    - add the doc string to cmdtextdocwarnings() at the end of the file
- add the function in scriptplugin.cpp (after the preeding one in the `cmd*.cpp`)

## Porting the Scribus Calendar to the new Scripter
!adding setParagraphStyle`()`
!! goal
- set the style for the
  - current selection
  - the current frame or
  - the style named through the parameter

#Updating the Scripter API Documentation

- Install the Sphinx documentation system (`python-sphynx` on debian).
- Fork [jainbasil's Github repository](https://github.com/jainbasil/scripter-doc) and clone it.
